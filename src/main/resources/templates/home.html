<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]>      <html class="no-js"> <![endif]-->
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>Welcome to hikerhunger!</title>
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" type="text/css" href="/css/style.css" />
    <script src="https://kit.fontawesome.com/783d090aa0.js" crossorigin="anonymous"></script>
  </head>
  <body>
    <h1>Hey [[${user.firstName}]]! Start cooking!</h1>
    <form
      th:action="@{/home/{userId}/recipe(userId=${user.id})}"
      method="post"
    >
      <input type="submit" value="Add New Recipe"></input>
    </form>
    <div th:if="${recipes == null or #lists.size(recipes) == 0}">
      You don't have any recipes yet!
    </div>
    <div th:if="${#lists.size(recipes) > 0}">
      <h2>Your Recipes</h2>
      <table id="homeRecipesTable">
        <tr>
          <th>Recipe Name</th>
          <th>Recipe Type</th>
          <th>Instructions</th>
          <th>Serves</th>
          <th>Weight</th>
        </tr>
        <tr method="get" th:each="recipe : ${recipes}" th:attr=" data-recipe-id=${recipe.recipeId}">
          <input type="hidden" th:value="${recipe.recipeId}" class="recipe-id"/>
          <td th:text="${recipe.recipeName}"></td>
          <td th:text="${recipe.recipeType?.displayValue}"></td>
          <td th:text="${recipe.instructions}"></td>
          <td th:text="${recipe.servings}"></td>
          <td th:text="${recipe.totalWeight}"></td>
        </tr>
      </table>
    </div>

    <!-- ////////////// RECIPE POP_UP WINDOW //////////////////////// -->
    <div class="recipeViewPopup hidden">
    </div>
    <div class="overlay hidden"></div>

    <form>
      <button type="submit">Build A Trip</button>
    </form>

    <form th:action="@{/landing}" method="get">
      <button type="submit">Logout</button>
    </form>

    <!--[if lt IE 7]>
      <p class="browsehappy">
        You are using an <strong>outdated</strong> browser. Please
        <a href="#">upgrade your browser</a> to improve your experience.
      </p>
    <![endif]-->

    <script type="module" src="/js/home.js"></script>
  </body>
</html>
